{"version":3,"sources":["PersonForm.js","Persons.js","Filter.js","services/person.js","Notification.js","App.js","index.js"],"names":["PersonForm","addPerson","newName","handlePersonChange","newNumber","handleNumberChange","Form","onSubmit","Group","Label","Control","value","onChange","Button","variant","type","Persons","persons","handleDelete","map","props","Card","Body","name","number","onClick","id","Filter","handleSearch","newSearch","placeholder","baseUrl","axios","get","newObject","post","delete","updateObject","console","log","put","Notification","errormessage","message","Alert","className","App","useState","setPersons","setNewName","setNewNumber","setNewSearch","errorMessage","setErrorMessage","setMessage","useEffect","personService","then","res","data","catch","err","copy","personToShow","filter","person","toLowerCase","includes","Container","style","display","alignItems","flexDirection","Row","margin","fontSize","event","target","preventDefault","some","window","confirm","updatePerson","personObject","setTimeout","alert","error","response","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.68e8a9d2.chunk.js","sourcesContent":["import React from 'react'\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\n\r\nconst PersonForm = ({ addPerson, newName, handlePersonChange, newNumber, handleNumberChange }) => {\r\n    return (\r\n        <Form onSubmit={addPerson}>\r\n            <Form.Group>\r\n                <Form.Label>Name: </Form.Label>\r\n                <Form.Control value={newName} onChange={handlePersonChange} />\r\n            </Form.Group>\r\n            <Form.Group>\r\n                <Form.Label >Number:</Form.Label>\r\n                <Form.Control value={newNumber} onChange={handleNumberChange} />\r\n            </Form.Group>\r\n            <Button variant=\"primary\" type=\"submit\">Add New Number</Button>\r\n        </Form>\r\n    )\r\n}\r\n\r\nexport default PersonForm;\r\n","import Card from 'react-bootstrap/Card';\r\nimport Button from 'react-bootstrap/Button';\r\n\r\nconst Persons = ({ persons, handleDelete }) => {\r\n    return (\r\n        <div>\r\n            {persons.map((props) => <Card key={props.id}><Card.Body key={props.name}>{props.name} {props.number}</Card.Body><Button variant=\"danger\" key={props.number} onClick={() => handleDelete(props)}>Delete</Button></Card>)}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Persons\r\n","import Form from 'react-bootstrap/Form';\r\n\r\nfunction Filter({ handleSearch, newSearch }) {\r\n    return (\r\n        <div>\r\n            <Form.Label>Filter:</Form.Label>\r\n            <Form.Control placeholder=\"Search...\" value={newSearch} onChange={handleSearch} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter\r\n","import axios from 'axios'\r\nconst baseUrl = '/api/persons/'\r\n\r\nconst getAll = () => {\r\n    return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject => {\r\n    return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst deleteNumber = id => {\r\n    return axios.delete(`/api/persons/${id}`)\r\n}\r\nconst updateNumber = (id, updateObject) => {\r\n    console.log(id, updateObject);\r\n    return axios.put(`/api/persons/${id}`, updateObject)\r\n}\r\n\r\nexport default { getAll, create, deleteNumber, updateNumber }\r\n","import Alert from 'react-bootstrap/Alert';\r\n\r\nconst Notification = ({ errormessage, message }) => {\r\n    if (message === null && errormessage === null) {\r\n        return null\r\n    }\r\n    return (\r\n        <div>\r\n            {errormessage !== null ? <Alert variant=\"danger\" className=\"error\">{errormessage}</Alert> : <div></div>}\r\n            {message !== null ? <Alert variant=\"success\" className=\"message\">{message}</Alert> : <div></div>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react';\r\nimport PersonForm from './PersonForm';\r\nimport Persons from './Persons';\r\nimport Filter from './Filter';\r\nimport personService from './services/person';\r\nimport Notification from './Notification';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\n\r\n\r\nconst App = () => {\r\n\r\n    const [persons, setPersons] = useState([])\r\n    const [newName, setNewName] = useState('')\r\n    const [newNumber, setNewNumber] = useState('')\r\n    const [newSearch, setNewSearch] = useState('')\r\n    const [errorMessage, setErrorMessage] = useState(null)\r\n    const [message, setMessage] = useState(null)\r\n\r\n    useEffect(() => {\r\n        console.log(\"Use Effect is running\")\r\n        personService\r\n            .getAll()\r\n            .then(res => {\r\n                console.log(\"data has arrived\")\r\n                setPersons(res.data)\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n            })\r\n    }, [])\r\n\r\n    const addPerson = (event) => {\r\n        event.preventDefault()\r\n        if (persons.some((person) => { return (person.name === newName) })) {\r\n            if (persons.some((person) => { return (person.number !== newNumber) })) {\r\n                if (window.confirm(`${newName} has already added to the phonebook, replace the old number with a new one?`)) {\r\n                    const updatePerson = persons.filter((person) => { return person.name === newName })\r\n                    console.log(updatePerson);\r\n                    const personObject = updatePerson[0]\r\n                    const updateObject = { name: newName, number: newNumber }\r\n                    const id = personObject.id\r\n                    console.log(id)\r\n                    personService\r\n                        .updateNumber(id, updateObject)\r\n                        .then(res => {\r\n                            setMessage(\r\n                                `${newName}'s number changed to ${newNumber}`\r\n                            )\r\n                            setTimeout(() => {\r\n                                setMessage(null)\r\n                            }, 5000)\r\n                        })\r\n                        .catch(err => {\r\n                            setErrorMessage(\r\n                                `Information of ${newName} has already been removed from server`\r\n                            )\r\n                            setTimeout(() => {\r\n                                setErrorMessage(null)\r\n                            }, 5000)\r\n                        })\r\n                }\r\n            } else {\r\n                window.alert(`${newName} is already added to phonebook`)\r\n            }\r\n        } else if (persons.some((person) => { return (person.number === newNumber) })) {\r\n            window.alert(`${newNumber} is already added to phonebook`)\r\n        } else {\r\n            const personObject = {\r\n                name: newName,\r\n                number: newNumber\r\n            }\r\n            personService\r\n                .create(personObject)\r\n                .then(res => {\r\n                    setMessage(\r\n                        `Added ${newName}`\r\n                    )\r\n                    setTimeout(() => {\r\n                        setMessage(null)\r\n                    }, 5000)\r\n                })\r\n                .catch(error => {\r\n                    console.log(error)\r\n                    setErrorMessage(error.response.data)\r\n                    setTimeout(() => {\r\n                        setErrorMessage(null)\r\n                    }, 5000)\r\n                })\r\n            setNewName('')\r\n            setNewNumber('')\r\n        }\r\n    }\r\n    const handlePersonChange = (event) => {\r\n        setNewName(event.target.value)\r\n    }\r\n\r\n    const handleNumberChange = (event) => {\r\n        setNewNumber(event.target.value)\r\n    }\r\n\r\n    const handleSearch = (event) => {\r\n        setNewSearch(event.target.value)\r\n    }\r\n    const handleDelete = (props) => {\r\n        const id = props.id\r\n        console.log(props)\r\n        if (window.confirm(`Delete ${props.name}?`)) {\r\n            personService\r\n                .deleteNumber(id)\r\n                .then(res => {\r\n                    setErrorMessage(\r\n                        `${props.name}'s number has been deleted`\r\n                    )\r\n                    setTimeout(() => {\r\n                        setErrorMessage(null)\r\n                    }, 5000)\r\n                })\r\n                .catch(err => {\r\n                    setErrorMessage(\r\n                        `Error in deleting the number.Please Try again`\r\n                    )\r\n                    setTimeout(() => {\r\n                        setErrorMessage(null)\r\n                    }, 5000)\r\n                })\r\n        }\r\n    }\r\n    const copy = persons;\r\n    const personToShow = newSearch !== '' ? copy.filter((person) => { return person.name.toLowerCase().includes(newSearch.toLowerCase()) }) : copy;\r\n\r\n    return (\r\n        <Container style={{ display: 'flex', alignItems: 'center', flexDirection: 'column' }}>\r\n            <Row style={{ margin: \"20px\" }}>\r\n                <h1 style={{ fontSize: \"60px\" }}>Phonebook</h1>\r\n            </Row>\r\n            <Row style={{ margin: \"10px\" }}>\r\n                <Notification errormessage={errorMessage} message={message} />\r\n            </Row>\r\n            <Row >\r\n                <Filter handleSearch={handleSearch} newSearch={newSearch} />\r\n            </Row>\r\n            <Row style={{ margin: \"10px\" }}>\r\n                <h3>Add a new Number</h3>\r\n            </Row>\r\n            <Row style={{ margin: \"10px\" }}>\r\n                <PersonForm addPerson={addPerson} handleNumberChange={handleNumberChange} handlePersonChange={handlePersonChange} newName={newName} newNumber={newNumber} />\r\n            </Row>\r\n            <Row style={{ margin: \"20px\" }}>\r\n                <h3>Numbers</h3>\r\n            </Row>\r\n            <Row style={{ margin: \"10px\" }}>\r\n                <Persons persons={personToShow} handleDelete={handleDelete} />\r\n            </Row>\r\n        </Container >\r\n    )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport \"./index.css\";\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}